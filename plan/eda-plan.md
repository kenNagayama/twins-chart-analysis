# トロリ線摩耗検測データ（5cmピッチ生データ）探索的データ分析（EDA）実行プラン

## 概要

- ノイズが多いチャートデータから、真の異常を見つけ出すアルゴリズムを探しています。
- 対象データは、 **トロリ線の摩耗（残存直径）を連続的に計測したチャートデータ** です。
- 異常データは、局所的に摩耗しているため、下がったピークに見えますが、ノイズとの区別が難しいです。

## 分析ステップ

1. データを可視化する
  - 横軸: キロ程
  - 縦軸: 摩耗_測定値
    - **CH** には `1～4` のラベルが付いています。 **CH** ごとに分けてグラフを作成します
    - グラフのツールヒントには以下を表示します
      - 箇所名(str): 日本語を含むテキスト
      - 通称線名名称(str): 日本語を含むテキスト
      - 駅・駅々間名称(str): 日本語を含むテキスト
      - 電柱番号(str): 数値が文字列型で入力されている
      - キロ程(float): 少数第3位まで表示
      - 架線構造名(str): テキスト
      - トロリ線種(str): テキスト
      - 降雨フラグ(str): 数値が文字列型で入力されている
2. データの前処理とノイズフィルタリング
   - 計測エラーによるスパイクノイズを除去する
     - ノイズ除去手法の候補
       - 移動中央値フィルタ
       - サビツキー・ゴーレイ法による平滑化
   - 2つの手法について、 **ON/OFF** をスイッチできるようにする
3. 移動平均からの乖離（Z-Score）を計算して、急激な直径低下を検知します
4. 結果を **インタラクティブなグラフとして可視化** し、元の波形、フィルタ後、異常検知箇所を上下に並べて比較できるようにします。

## 対象データ

- 開発用のサンプルデータ: `data/20220916-koga-st-5cm-original-data.xlsx`
- 本番用: ユーザが任意のデータをアップロードできるようにします（これは後で実装でOK）
